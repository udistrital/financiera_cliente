<div class="panel panel-success panel-body">
    <div class="panel panel-heading">
      <h4 class="text-center panel-title">{{"CONSULTA_APROBACION_INICIAL" | translate}}<i class="fa fa-refresh pull-right faa-spin animated-hover" aria-hidden="true" ng-click="d_apropiacionConsulta.cargar_arbol()"></i></h4>
    </div>
    
    <div class="row">
      <center>  
      <form class="form-group" name="myF">
        <label for="myI"> Buscar: </label>
        <input type="text" name="myI" debounce-state placeholder="Filtrar" ng-model="filtro"  ng-model-options="{ updateOn: 'default blur', debounce: { default: 800, blur: 3000 } }"> <i class="fa fa-spinner faa-spin animated" aria-hidden="true" ng-if="myF.myI.$debouncing"></i>
      </form>
    </center>
      <h4 class="text-info">{{"VIGENCIA" | translate}} : {{vigencia}}</h4>
      <hr>
      <treecontrol class="tree-classic" tree-model="arbol" options="d_apropiacionConsulta.treeOptions"selected-node="rubrosel" order-by="'Codigo'" reverse-order="{{false}}" filter-expression="filtro" expanded-nodes="d_apropiacionConsulta.expandedNodes">
        <span class="text-success">{{node.Codigo }}:</span> {{node.Nombre | limitTo:50}} 
        - {{'APROPIACION_INICIAL'| translate}} : <span class="text-info" ng-if="node.Apropiacion != null">{{node.Apropiacion.Valor|currency}} - </span> <span ng-if="node.Apropiacion == null" class="text-danger">{{0.000|currency}} - </span>
        <btn-registro ng-if="node.Hijos == null" funcion="d_apropiacionConsulta.arbol_operacion(node,operacion)" grupobotones="botones" fila="node"></btn-registro>
        <btn-registro ng-if="node.Hijos != null" funcion="d_apropiacionConsulta.arbol_operacion(node,operacion)" grupobotones="botonesPadre" fila="node"></btn-registro>
      </treecontrol>
  
  
  
    </div>
  </div>
  
  <div id="myModal" class="modal fade col-md-12" role="dialog">
    <div class="modal-content col-md-offset-1 col-md-10">
      <div class="modal-header">
        <button type="button" class="btn btn-outline btn-danger btn-xs pull-right" data-dismiss="modal" >&times</button><br>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="page-header">{{'APROPIACION' | translate}} :  {{d_apropiacionConsulta.apropiacionsel.Nombre}} / {{d_apropiacionConsulta.apropiacionsel.Codigo}}</h3>
          <div align="right">{{'VIGENCIA' | translate}}:{{d_apropiacionConsulta.apropiacionsel.Apropiacion.Vigencia}}</div>
        </div>
        <div class="panel-body">
          <table class="table">
            <tr>
              <th>{{'DESCRIPCION' | translate}}: </th>
              <td>{{d_apropiacionConsulta.apropiacionsel.Descripcion}}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
